[gd_scene load_steps=12 format=2]

[ext_resource path="res://default_env.tres" type="Environment" id=1]
[ext_resource path="res://views/editor/viewport.gd" type="Script" id=2]
[ext_resource path="res://views/editor/camera.gd" type="Script" id=3]
[ext_resource path="res://icons/icon_material_preview_light_2.svg" type="Texture" id=4]
[ext_resource path="res://icons/icon_camera.svg" type="Texture" id=5]
[ext_resource path="res://icons/icon_material_preview_light_1.svg" type="Texture" id=6]

[sub_resource type="World" id=6]
environment = ExtResource( 1 )

[sub_resource type="CubeMesh" id=7]
size = Vector3( 0.01, 0.01, 50 )

[sub_resource type="SpatialMaterial" id=8]
flags_unshaded = true
albedo_color = Color( 0.2, 0.2, 1, 1 )

[sub_resource type="SpatialMaterial" id=9]
flags_unshaded = true
albedo_color = Color( 0.2, 1, 0.2, 1 )

[sub_resource type="SpatialMaterial" id=5]
flags_unshaded = true
albedo_color = Color( 1, 0.2, 0.2, 1 )

[node name="ViewportArea" type="VBoxContainer"]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="DisplayOptions" type="HBoxContainer" parent="."]
margin_right = 1366.0
margin_bottom = 22.0

[node name="Normal" type="Button" parent="DisplayOptions"]
visible = false
margin_right = 59.0
margin_bottom = 20.0
text = "Normal"

[node name="Wireframe" type="Button" parent="DisplayOptions"]
visible = false
margin_left = 63.0
margin_right = 142.0
margin_bottom = 20.0
text = "Wireframe"

[node name="VSeparator" type="VSeparator" parent="DisplayOptions"]
margin_right = 15.0
margin_bottom = 22.0
custom_constants/separation = 15

[node name="ResetCamera" type="Button" parent="DisplayOptions"]
margin_left = 19.0
margin_right = 47.0
margin_bottom = 22.0
hint_tooltip = "Reset the camera position and orientation to aim at the center of the scene"
icon = ExtResource( 5 )

[node name="VSeparator2" type="VSeparator" parent="DisplayOptions"]
margin_left = 51.0
margin_right = 66.0
margin_bottom = 22.0
custom_constants/separation = 15

[node name="LightSetup1" type="Button" parent="DisplayOptions"]
margin_left = 70.0
margin_right = 98.0
margin_bottom = 22.0
hint_tooltip = "Light follows the camera so the result is always illuminated"
icon = ExtResource( 6 )

[node name="LightSetup2" type="Button" parent="DisplayOptions"]
margin_left = 102.0
margin_right = 130.0
margin_bottom = 22.0
hint_tooltip = "Light is static so you can see part of the result shadowed"
icon = ExtResource( 4 )

[node name="ViewportContainer" type="ViewportContainer" parent="."]
margin_top = 26.0
margin_right = 1366.0
margin_bottom = 768.0
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true
script = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}
root = NodePath("Viewport/Output")
camera_root = NodePath("Viewport/Pivot")
static_light = NodePath("Viewport/Lighting/DirectionalLight")
camera_light = NodePath("Viewport/Pivot/Camera/DirectionalLight")

[node name="Viewport" type="Viewport" parent="ViewportContainer"]
size = Vector2( 1366, 742 )
size_override_stretch = true
own_world = true
world = SubResource( 6 )
handle_input_locally = false
msaa = 1
usage = 3
render_target_update_mode = 3

[node name="Pivot" type="Spatial" parent="ViewportContainer/Viewport"]
transform = Transform( 0.707107, -0.45452, 0.541675, 0, 0.766044, 0.642788, -0.707107, -0.454519, 0.541675, 0, 0, 0 )
script = ExtResource( 3 )

[node name="Camera" type="Camera" parent="ViewportContainer/Viewport/Pivot"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3 )

[node name="DirectionalLight" type="DirectionalLight" parent="ViewportContainer/Viewport/Pivot/Camera"]
transform = Transform( 1, 0, 0, 0, 0.939693, 0.34202, 0, -0.34202, 0.939693, 0, 0, 0 )
light_energy = 0.7
light_specular = 0.0

[node name="Lighting" type="Spatial" parent="ViewportContainer/Viewport"]

[node name="DirectionalLight" type="DirectionalLight" parent="ViewportContainer/Viewport/Lighting"]
transform = Transform( -3.09086e-08, -0.707107, 0.707107, -3.09086e-08, 0.707107, 0.707107, -1, 0, -4.37114e-08, 2.00127, 0, -1.33922 )
visible = false
light_energy = 0.7
light_specular = 0.0
directional_shadow_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="ViewportContainer/Viewport/Lighting"]
environment = ExtResource( 1 )

[node name="Output" type="Spatial" parent="ViewportContainer/Viewport"]

[node name="TMP-Axis" type="Spatial" parent="ViewportContainer/Viewport"]

[node name="Z" type="MeshInstance" parent="ViewportContainer/Viewport/TMP-Axis"]
mesh = SubResource( 7 )
material/0 = SubResource( 8 )

[node name="Y" type="MeshInstance" parent="ViewportContainer/Viewport/TMP-Axis"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0 )
mesh = SubResource( 7 )
material/0 = SubResource( 9 )

[node name="X" type="MeshInstance" parent="ViewportContainer/Viewport/TMP-Axis"]
transform = Transform( -4.37114e-08, -4.37114e-08, 1, -1, -4.37114e-08, -4.37114e-08, 4.37114e-08, -1, -4.37114e-08, 0, 0, 0 )
mesh = SubResource( 7 )
material/0 = SubResource( 5 )
[connection signal="pressed" from="DisplayOptions/Normal" to="ViewportContainer" method="set_normal_display"]
[connection signal="pressed" from="DisplayOptions/Wireframe" to="ViewportContainer" method="set_wireframe_display"]
[connection signal="pressed" from="DisplayOptions/ResetCamera" to="ViewportContainer/Viewport/Pivot" method="reset_camera"]
[connection signal="pressed" from="DisplayOptions/LightSetup1" to="ViewportContainer" method="enable_camera_light"]
[connection signal="pressed" from="DisplayOptions/LightSetup2" to="ViewportContainer" method="enable_static_light"]
